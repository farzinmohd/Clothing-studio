{% extends 'base.html' %}
{% block title %}Home | Clothing Store{% endblock %}

{% block content %}

<!-- ðŸ”¥ HERO SECTION -->
<section class="bg-light p-5 rounded text-center mb-5">
    <h1 class="fw-bold">Discover Your Perfect Style</h1>
    <p class="text-muted">
        AI-powered fashion recommendations tailored for you
    </p>

    {% if not user.is_authenticated %}
        <a href="{% url 'login' %}" class="btn btn-dark btn-lg mt-3">
            Login to Start Shopping
        </a>
    {% endif %}
</section>

<!-- â­ RECOMMENDED PRODUCTS -->
<section class="mb-5">
    <h3 class="mb-4">Recommended For You</h3>

    <div class="row">
        {% for product in recommended_products %}
            <div class="col-md-3 mb-4">
                <div class="card h-100 shadow-sm">

                    {% if product.images.first %}
                        <img src="{{ product.images.first.image.url }}"
                             class="card-img-top"
                             style="height:250px; object-fit:cover;">
                    {% endif %}

                    <div class="card-body text-center">
                        <h6>{{ product.name }}</h6>
                        <p class="fw-bold">â‚¹{{ product.price }}</p>

                        <a href="{% url 'product_detail' product.id %}"
                           class="btn btn-outline-dark btn-sm">
                            View Details
                        </a>

                        {% if not user.is_authenticated %}
                            <p class="text-muted mt-2 small">
                                Login to purchase
                            </p>
                        {% endif %}
                    </div>
                </div>
            </div>
        {% empty %}
            <p>No recommended products available.</p>
        {% endfor %}
    </div>
</section>

<!-- ðŸ†• LATEST PRODUCTS -->
<section class="mb-5">
    <h3 class="mb-4">Latest Arrivals</h3>

    <div class="row">
        {% for product in latest_products %}
            <div class="col-md-3 mb-4">
                <div class="card h-100 shadow-sm">

                    {% if product.images.first %}
                        <img src="{{ product.images.first.image.url }}"
                             class="card-img-top"
                             style="height:250px; object-fit:cover;">
                    {% endif %}

                    <div class="card-body text-center">
                        <h6>{{ product.name }}</h6>
                        <p class="fw-bold">â‚¹{{ product.price }}</p>

                        <a href="{% url 'product_detail' product.id %}"
                           class="btn btn-outline-dark btn-sm">
                            View Details
                        </a>
                    </div>
                </div>
            </div>
        {% empty %}
            <p>No latest products available.</p>
        {% endfor %}
    </div>
</section>

<!-- ðŸ¤– AI SKIN TONE CTA -->
<section class="bg-dark text-white p-5 rounded text-center">
    <h3>Not Sure What Suits You?</h3>
    <p>Use our AI Skin Tone Analyzer for personalized outfit recommendations</p>

    {% if user.is_authenticated %}
        <a href="{% url 'ai_home' %}" class="btn btn-light mt-2">
            Try AI Analysis
        </a>
    {% else %}
        <a href="{% url 'login' %}" class="btn btn-outline-light mt-2">
            Login to Use AI Feature
        </a>
    {% endif %}
</section>

{% endblock %}
